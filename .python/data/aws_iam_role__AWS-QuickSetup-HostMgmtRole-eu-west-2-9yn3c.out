resource "aws_iam_role" "AWS-QuickSetup-HostMgmtRole-eu-west-2-9yn3c" {
  assume_role_policy    = "{\"Statement\":[{\"Action\":\"sts:AssumeRole\",\"Effect\":\"Allow\",\"Principal\":{\"Service\":\"ssm.amazonaws.com\"}}],\"Version\":\"2012-10-17\"}"
  description           = null
  force_detach_policies = false
  managed_policy_arns   = []
  max_session_duration  = 3600
  name                  = "AWS-QuickSetup-HostMgmtRole-eu-west-2-9yn3c"
  name_prefix           = null
  path                  = "/"
  permissions_boundary  = null
  tags = {
    QuickSetupID      = "9yn3c"
    QuickSetupType    = "Host Management"
    QuickSetupVersion = "1.1"
  }
  tags_all = {
    QuickSetupID      = "9yn3c"
    QuickSetupType    = "Host Management"
    QuickSetupVersion = "1.1"
  }
  inline_policy {
    name   = "AWS-QuickSetup-SSMHostMgmt-CreateAndAttachRoleInlinePolicy-eu-west-2-9yn3c"
    policy = "{\"Version\":\"2012-10-17\",\"Statement\":[{\"Action\":[\"ssm:GetAutomationExecution\",\"ec2:DescribeIamInstanceProfileAssociations\",\"ec2:AssociateIamInstanceProfile\",\"ec2:DisassociateIamInstanceProfile\",\"ec2:DescribeInstances\",\"ssm:StartAutomationExecution\",\"iam:GetInstanceProfile\",\"iam:AddRoleToInstanceProfile\",\"iam:AttachRolePolicy\",\"iam:ListInstanceProfilesForRole\"],\"Effect\":\"Allow\",\"Resource\":\"*\"},{\"Action\":[\"iam:CreateInstanceProfile\"],\"Effect\":\"Allow\",\"Resource\":[\"arn:aws:iam::*:instance-profile/AmazonSSMRoleForInstancesQuickSetup\"]},{\"Action\":[\"iam:PassRole\",\"iam:GetRole\"],\"Effect\":\"Allow\",\"Resource\":[\"arn:aws:iam::*:role/AmazonSSMRoleForInstancesQuickSetup\",\"arn:aws:iam::*:role/AWS-QuickSetup-HostMgmtRole-eu-west-2-9yn3c\"]},{\"Action\":[\"iam:CreateRole\"],\"Effect\":\"Allow\",\"Resource\":[\"arn:aws:iam::*:role/AmazonSSMRoleForInstancesQuickSetup\"]}]}"
  }
  inline_policy {
    name   = "SSMQuickSetupEnableExplorerInlinePolicy"
    policy = "{\"Version\":\"2012-10-17\",\"Statement\":[{\"Action\":[\"iam:ListRoles\",\"config:DescribeConfigurationRecorders\",\"compute-optimizer:GetEnrollmentStatus\",\"support:DescribeTrustedAdvisorChecks\"],\"Effect\":\"Allow\",\"Resource\":\"*\"},{\"Action\":[\"ssm:UpdateServiceSetting\",\"ssm:GetServiceSetting\"],\"Effect\":\"Allow\",\"Resource\":[\"arn:aws:ssm:*:*:servicesetting/ssm/opsitem/ssm-patchmanager\",\"arn:aws:ssm:*:*:servicesetting/ssm/opsitem/EC2\",\"arn:aws:ssm:*:*:servicesetting/ssm/opsdata/ExplorerOnboarded\",\"arn:aws:ssm:*:*:servicesetting/ssm/opsdata/Association\",\"arn:aws:ssm:*:*:servicesetting/ssm/opsdata/ComputeOptimizer\",\"arn:aws:ssm:*:*:servicesetting/ssm/opsdata/ConfigCompliance\",\"arn:aws:ssm:*:*:servicesetting/ssm/opsdata/OpsData-TrustedAdvisor\",\"arn:aws:ssm:*:*:servicesetting/ssm/opsdata/SupportCenterCase\"]},{\"Action\":[\"iam:CreateServiceLinkedRole\"],\"Condition\":{\"StringEquals\":{\"iam:AWSServiceName\":\"ssm.amazonaws.com\"}},\"Effect\":\"Allow\",\"Resource\":\"arn:aws:iam::*:role/aws-service-role/ssm.amazonaws.com/AWSServiceRoleForAmazonSSM\"}]}"
  }
}

