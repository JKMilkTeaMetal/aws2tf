resource "aws_iam_role" "at-sechub-demo-SecretsTem-SecretsManagerRDSMySQLRo-1DEZHSZEB4ITL" {
  assume_role_policy    = "{\"Statement\":[{\"Action\":\"sts:AssumeRole\",\"Effect\":\"Allow\",\"Principal\":{\"Service\":\"lambda.amazonaws.com\"}}],\"Version\":\"2012-10-17\"}"
  description           = null
  force_detach_policies = false
  managed_policy_arns   = ["arn:aws:iam::aws:policy/service-role/AWSLambdaBasicExecutionRole", "arn:aws:iam::aws:policy/service-role/AWSLambdaVPCAccessExecutionRole"]
  max_session_duration  = 3600
  name                  = "at-sechub-demo-SecretsTem-SecretsManagerRDSMySQLRo-1DEZHSZEB4ITL"
  name_prefix           = null
  path                  = "/"
  permissions_boundary  = null
  tags = {
    SecretsManagerLambda             = "Rotation"
    "lambda:createdBy"               = "SAM"
    "serverlessrepo:applicationId"   = "arn:aws:serverlessrepo:us-east-1:297356227824:applications/SecretsManagerRDSMySQLRotationSingleUser"
    "serverlessrepo:semanticVersion" = "1.1.0"
  }
  tags_all = {
    SecretsManagerLambda             = "Rotation"
    "lambda:createdBy"               = "SAM"
    "serverlessrepo:applicationId"   = "arn:aws:serverlessrepo:us-east-1:297356227824:applications/SecretsManagerRDSMySQLRotationSingleUser"
    "serverlessrepo:semanticVersion" = "1.1.0"
  }
  inline_policy {
    name   = "SecretsManagerRDSMySQLRotationSingleUserRolePolicy0"
    policy = "{\"Statement\":[{\"Action\":[\"ec2:CreateNetworkInterface\",\"ec2:DeleteNetworkInterface\",\"ec2:DescribeNetworkInterfaces\",\"ec2:DetachNetworkInterface\"],\"Effect\":\"Allow\",\"Resource\":\"*\"}]}"
  }
  inline_policy {
    name   = "SecretsManagerRDSMySQLRotationSingleUserRolePolicy1"
    policy = "{\"Statement\":[{\"Action\":[\"secretsmanager:DescribeSecret\",\"secretsmanager:GetSecretValue\",\"secretsmanager:PutSecretValue\",\"secretsmanager:UpdateSecretVersionStage\"],\"Condition\":{\"StringEquals\":{\"secretsmanager:resource/AllowRotationLambdaArn\":\"arn:aws:lambda:eu-west-2:566972129213:function:SecretsManagerMySQLRotationLambda\"}},\"Effect\":\"Allow\",\"Resource\":\"arn:aws:secretsmanager:eu-west-2:566972129213:secret:*\"},{\"Action\":[\"secretsmanager:GetRandomPassword\"],\"Effect\":\"Allow\",\"Resource\":\"*\"}]}"
  }
}

